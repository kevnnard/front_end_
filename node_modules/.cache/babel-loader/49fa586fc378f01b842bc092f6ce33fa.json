{"remainingRequest":"D:\\escritorio\\proyecto 2\\sprint_5\\node_modules\\babel-loader\\lib\\index.js!D:\\escritorio\\proyecto 2\\sprint_5\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\escritorio\\proyecto 2\\sprint_5\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\escritorio\\proyecto 2\\sprint_5\\src\\components\\Account.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\escritorio\\proyecto 2\\sprint_5\\src\\components\\Account.vue","mtime":1635295878799},{"path":"D:\\escritorio\\proyecto 2\\sprint_5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1635295854548},{"path":"D:\\escritorio\\proyecto 2\\sprint_5\\node_modules\\babel-loader\\lib\\index.js","mtime":1635295853741},{"path":"D:\\escritorio\\proyecto 2\\sprint_5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1635295854548},{"path":"D:\\escritorio\\proyecto 2\\sprint_5\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1635295852249}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L2VzY3JpdG9yaW8vcHJveWVjdG8gMi9zcHJpbnRfNS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IGp3dF9kZWNvZGUgZnJvbSAiand0LWRlY29kZSI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQWNjb3VudCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6ICIiLAogICAgICBlbWFpbDogIiIsCiAgICAgIGJhbGFuY2U6IDAsCiAgICAgIGxvYWRlZDogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXREYXRhOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0RGF0YSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICB2YXIgdG9rZW4sIHVzZXJJZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW5fYWNjZXNzIikgPT09IG51bGwgfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuX3JlZnJlc2giKSA9PT0gbnVsbCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2xvZ091dCcpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmVyaWZ5VG9rZW4oKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW5fYWNjZXNzIik7CiAgICAgICAgICAgICAgICB1c2VySWQgPSBqd3RfZGVjb2RlKHRva2VuKS51c2VyX2lkLnRvU3RyaW5nKCk7CiAgICAgICAgICAgICAgICBheGlvcy5nZXQoImh0dHBzOi8vbWlzaW9uLXRpYy1iYW5rLWJlLmhlcm9rdWFwcC5jb20vdXNlci8iLmNvbmNhdCh1c2VySWQsICIvIiksIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogIkJlYXJlciAiLmNvbmNhdCh0b2tlbikKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLm5hbWUgPSByZXN1bHQuZGF0YS5uYW1lOwogICAgICAgICAgICAgICAgICBfdGhpcy5lbWFpbCA9IHJlc3VsdC5kYXRhLmVtYWlsOwogICAgICAgICAgICAgICAgICBfdGhpcy5iYWxhbmNlID0gcmVzdWx0LmRhdGEuYWNjb3VudC5iYWxhbmNlOwogICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpcy4kZW1pdCgnbG9nT3V0Jyk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldERhdGEoKSB7CiAgICAgICAgcmV0dXJuIF9nZXREYXRhLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXREYXRhOwogICAgfSgpLAogICAgdmVyaWZ5VG9rZW46IGZ1bmN0aW9uIHZlcmlmeVRva2VuKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBheGlvcy5wb3N0KCJodHRwczovL21pc2lvbi10aWMtYmFuay1iZS5oZXJva3VhcHAuY29tL3JlZnJlc2gvIiwgewogICAgICAgIHJlZnJlc2g6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbl9yZWZyZXNoIikKICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IHt9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbl9hY2Nlc3MiLCByZXN1bHQuZGF0YS5hY2Nlc3MpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiRlbWl0KCdsb2dPdXQnKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX2NyZWF0ZWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHRoaXMuZ2V0RGF0YSgpOwoKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpOwogICAgfSkpOwoKICAgIGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAgIHJldHVybiBfY3JlYXRlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBjcmVhdGVkOwogIH0oKQp9Ow=="},{"version":3,"sources":["D:\\escritorio\\proyecto 2\\sprint_5\\src\\components\\Account.vue"],"names":[],"mappings":";;;;;AAaA,OAAO,UAAP,MAAuB,YAAvB;AACA,OAAO,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,SADK;AAGX,EAAA,IAAI,EAAE,gBAAU;AACZ,WAAO;AACH,MAAA,IAAI,EAAE,EADH;AAEH,MAAA,KAAK,EAAE,EAFJ;AAGH,MAAA,OAAO,EAAE,CAHN;AAIH,MAAA,MAAM,EAAE;AAJL,KAAP;AAMH,GAVU;AAYX,EAAA,OAAO,EAAE;AACL,IAAA,OAAO;AAAA,6EAAE;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAED,YAAY,CAAC,OAAb,CAAqB,cAArB,MAAyC,IAAzC,IAAiD,YAAY,CAAC,OAAb,CAAqB,eAArB,MAA0C,IAF1F;AAAA;AAAA;AAAA;;AAGD,qBAAK,KAAL,CAAW,QAAX;AAHC;;AAAA;AAAA;AAAA,uBAOC,KAAK,WAAL,EAPD;;AAAA;AASD,gBAAA,KATC,GASO,YAAY,CAAC,OAAb,CAAqB,cAArB,CATP;AAUD,gBAAA,MAVC,GAUQ,UAAU,CAAC,KAAD,CAAV,CAAkB,OAAlB,CAA0B,QAA1B,EAVR;AAYL,gBAAA,KAAK,CAAC,GAAN,yDAA2D,MAA3D,QAAsE;AAAC,kBAAA,OAAO,EAAE;AAAC,sDAA2B,KAA3B;AAAD;AAAV,iBAAtE,EACK,IADL,CACU,UAAC,MAAD,EAAY;AACd,kBAAA,KAAI,CAAC,IAAL,GAAY,MAAM,CAAC,IAAP,CAAY,IAAxB;AACA,kBAAA,KAAI,CAAC,KAAL,GAAa,MAAM,CAAC,IAAP,CAAY,KAAzB;AACA,kBAAA,KAAI,CAAC,OAAL,GAAe,MAAM,CAAC,IAAP,CAAY,OAAZ,CAAoB,OAAnC;AACA,kBAAA,KAAI,CAAC,MAAL,GAAc,IAAd;AACC,iBANT,EAOK,KAPL,CAOW,YAAM;AACT,kBAAA,KAAI,CAAC,KAAL,CAAW,QAAX;AACH,iBATL;;AAZK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OADF;AAyBL,IAAA,WAAW,EAAE,uBAAY;AAAA;;AACrB,aAAO,KAAK,CAAC,IAAN,CAAW,mDAAX,EAAgE;AAAC,QAAA,OAAO,EAAE,YAAY,CAAC,OAAb,CAAqB,eAArB;AAAV,OAAhE,EAAkH;AAAC,QAAA,OAAO,EAAE;AAAV,OAAlH,EACd,IADc,CACT,UAAC,MAAD,EAAY;AACjB,QAAA,YAAY,CAAC,OAAb,CAAqB,cAArB,EAAqC,MAAM,CAAC,IAAP,CAAY,MAAjD;AACA,OAHc,EAId,KAJc,CAIR,YAAM;AACZ,QAAA,MAAI,CAAC,KAAL,CAAW,QAAX;AACA,OANc,CAAP;AAOJ;AAjCK,GAZE;AAgDX,EAAA,OAAO;AAAA,2EAAE;AAAA;AAAA;AAAA;AAAA;AACL,mBAAK,OAAL;;AADK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAhDI,CAAf","sourcesContent":["<template>\r\n\r\n    <div v-if=\"loaded\" class=\"information\">\r\n        <h1>Información de su cuenta</h1>\r\n        <h2>Nombre: <span>{{name}}</span></h2>\r\n        <h2>Saldo: <span>{{balance}} COP </span></h2>\r\n        <h2>Correo electrónico: <span>{{email}}</span></h2>\r\n    </div>\r\n\r\n</template>\r\n\r\n\r\n<script>\r\nimport jwt_decode from \"jwt-decode\";\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n    name: \"Account\",\r\n\r\n    data: function(){\r\n        return {\r\n            name: \"\",\r\n            email: \"\",\r\n            balance: 0,\r\n            loaded: false,\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        getData: async function () {\r\n\r\n            if (localStorage.getItem(\"token_access\") === null || localStorage.getItem(\"token_refresh\") === null) {\r\n                this.$emit('logOut');\r\n                return;\r\n\t\t\t}\r\n\r\n            await this.verifyToken();\r\n            \r\n            let token = localStorage.getItem(\"token_access\");\r\n            let userId = jwt_decode(token).user_id.toString();\r\n            \r\n            axios.get(`https://mision-tic-bank-be.herokuapp.com/user/${userId}/`, {headers: {'Authorization': `Bearer ${token}`}})\r\n                .then((result) => {\r\n                    this.name = result.data.name;\r\n                    this.email = result.data.email;\t\r\n                    this.balance = result.data.account.balance;\r\n                    this.loaded = true;\r\n                    })\r\n                .catch(() => {\r\n                    this.$emit('logOut');\r\n                });\r\n        },\r\n\r\n        verifyToken: function () {\r\n            return axios.post(\"https://mision-tic-bank-be.herokuapp.com/refresh/\", {refresh: localStorage.getItem(\"token_refresh\")}, {headers: {}})\r\n\t\t\t\t.then((result) => {\r\n\t\t\t\t\tlocalStorage.setItem(\"token_access\", result.data.access);\t\t\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tthis.$emit('logOut');\r\n\t\t\t\t});\r\n        }\r\n    },\r\n\r\n    created: async function(){\r\n        this.getData();\r\n    },\r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n    .information{\r\n        margin: 0;\r\n        padding: 0%;\r\n        width: 100%;\r\n        height: 100%;\r\n\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;    \r\n        align-items: center;\r\n    }\r\n\r\n    .information h1{\r\n        font-size: 60px;\r\n        color: #0f1316;\r\n    }\r\n\r\n    .information h2{\r\n        font-size: 40px;\r\n        color: #283747;\r\n    }\r\n\r\n    .information span{\r\n        color: crimson;\r\n        font-weight: bold;\r\n    }\r\n</style>"],"sourceRoot":""}]}