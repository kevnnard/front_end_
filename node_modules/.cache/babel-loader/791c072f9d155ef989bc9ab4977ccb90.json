{"remainingRequest":"C:\\Users\\Asus\\Desktop\\FRONT END\\sprint_5\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Asus\\Desktop\\FRONT END\\sprint_5\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Asus\\Desktop\\FRONT END\\sprint_5\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Asus\\Desktop\\FRONT END\\sprint_5\\src\\components\\Account.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Asus\\Desktop\\FRONT END\\sprint_5\\src\\components\\Account.vue","mtime":1635302616602},{"path":"C:\\Users\\Asus\\Desktop\\FRONT END\\sprint_5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1635302610650},{"path":"C:\\Users\\Asus\\Desktop\\FRONT END\\sprint_5\\node_modules\\babel-loader\\lib\\index.js","mtime":1635302610416},{"path":"C:\\Users\\Asus\\Desktop\\FRONT END\\sprint_5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1635302610650},{"path":"C:\\Users\\Asus\\Desktop\\FRONT END\\sprint_5\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1635302609853}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0FzdXMvRGVza3RvcC9GUk9OVCBFTkQvc3ByaW50XzUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCBqd3RfZGVjb2RlIGZyb20gImp3dC1kZWNvZGUiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFjY291bnQiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuYW1lOiAiIiwKICAgICAgZW1haWw6ICIiLAogICAgICBiYWxhbmNlOiAwLAogICAgICBsb2FkZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RGF0YTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldERhdGEgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgdmFyIHRva2VuLCB1c2VySWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEobG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuX2FjY2VzcyIpID09PSBudWxsIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbl9yZWZyZXNoIikgPT09IG51bGwpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdsb2dPdXQnKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZlcmlmeVRva2VuKCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuX2FjY2VzcyIpOwogICAgICAgICAgICAgICAgdXNlcklkID0gand0X2RlY29kZSh0b2tlbikudXNlcl9pZC50b1N0cmluZygpOwogICAgICAgICAgICAgICAgYXhpb3MuZ2V0KCJodHRwczovL21pc2lvbi10aWMtYmFuay1iZS5oZXJva3VhcHAuY29tL3VzZXIvIi5jb25jYXQodXNlcklkLCAiLyIpLCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICJCZWFyZXIgIi5jb25jYXQodG9rZW4pCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgICBfdGhpcy5uYW1lID0gcmVzdWx0LmRhdGEubmFtZTsKICAgICAgICAgICAgICAgICAgX3RoaXMuZW1haWwgPSByZXN1bHQuZGF0YS5lbWFpbDsKICAgICAgICAgICAgICAgICAgX3RoaXMuYmFsYW5jZSA9IHJlc3VsdC5kYXRhLmFjY291bnQuYmFsYW5jZTsKICAgICAgICAgICAgICAgICAgX3RoaXMubG9hZGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoJ2xvZ091dCcpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXREYXRhKCkgewogICAgICAgIHJldHVybiBfZ2V0RGF0YS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0RGF0YTsKICAgIH0oKSwKICAgIHZlcmlmeVRva2VuOiBmdW5jdGlvbiB2ZXJpZnlUb2tlbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gYXhpb3MucG9zdCgiaHR0cHM6Ly9taXNpb24tdGljLWJhbmstYmUuaGVyb2t1YXBwLmNvbS9yZWZyZXNoLyIsIHsKICAgICAgICByZWZyZXNoOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW5fcmVmcmVzaCIpCiAgICAgIH0sIHsKICAgICAgICBoZWFkZXJzOiB7fQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidG9rZW5fYWNjZXNzIiwgcmVzdWx0LmRhdGEuYWNjZXNzKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kZW1pdCgnbG9nT3V0Jyk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gKCkgewogICAgdmFyIF9jcmVhdGVkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICB0aGlzLmdldERhdGEoKTsKCiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgICByZXR1cm4gX2NyZWF0ZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gY3JlYXRlZDsKICB9KCkKfTs="},{"version":3,"sources":["C:\\Users\\Asus\\Desktop\\FRONT END\\sprint_5\\src\\components\\Account.vue"],"names":[],"mappings":";;;;;AAaA,OAAO,UAAP,MAAuB,YAAvB;AACA,OAAO,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,SADK;AAGX,EAAA,IAAI,EAAE,gBAAU;AACZ,WAAO;AACH,MAAA,IAAI,EAAE,EADH;AAEH,MAAA,KAAK,EAAE,EAFJ;AAGH,MAAA,OAAO,EAAE,CAHN;AAIH,MAAA,MAAM,EAAE;AAJL,KAAP;AAMH,GAVU;AAYX,EAAA,OAAO,EAAE;AACL,IAAA,OAAO;AAAA,6EAAE;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAED,YAAY,CAAC,OAAb,CAAqB,cAArB,MAAyC,IAAzC,IAAiD,YAAY,CAAC,OAAb,CAAqB,eAArB,MAA0C,IAF1F;AAAA;AAAA;AAAA;;AAGD,qBAAK,KAAL,CAAW,QAAX;AAHC;;AAAA;AAAA;AAAA,uBAOC,KAAK,WAAL,EAPD;;AAAA;AASD,gBAAA,KATC,GASO,YAAY,CAAC,OAAb,CAAqB,cAArB,CATP;AAUD,gBAAA,MAVC,GAUQ,UAAU,CAAC,KAAD,CAAV,CAAkB,OAAlB,CAA0B,QAA1B,EAVR;AAYL,gBAAA,KAAK,CAAC,GAAN,yDAA2D,MAA3D,QAAsE;AAAC,kBAAA,OAAO,EAAE;AAAC,sDAA2B,KAA3B;AAAD;AAAV,iBAAtE,EACK,IADL,CACU,UAAC,MAAD,EAAY;AACd,kBAAA,KAAI,CAAC,IAAL,GAAY,MAAM,CAAC,IAAP,CAAY,IAAxB;AACA,kBAAA,KAAI,CAAC,KAAL,GAAa,MAAM,CAAC,IAAP,CAAY,KAAzB;AACA,kBAAA,KAAI,CAAC,OAAL,GAAe,MAAM,CAAC,IAAP,CAAY,OAAZ,CAAoB,OAAnC;AACA,kBAAA,KAAI,CAAC,MAAL,GAAc,IAAd;AACC,iBANT,EAOK,KAPL,CAOW,YAAM;AACT,kBAAA,KAAI,CAAC,KAAL,CAAW,QAAX;AACH,iBATL;;AAZK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OADF;AAyBL,IAAA,WAAW,EAAE,uBAAY;AAAA;;AACrB,aAAO,KAAK,CAAC,IAAN,CAAW,mDAAX,EAAgE;AAAC,QAAA,OAAO,EAAE,YAAY,CAAC,OAAb,CAAqB,eAArB;AAAV,OAAhE,EAAkH;AAAC,QAAA,OAAO,EAAE;AAAV,OAAlH,EACd,IADc,CACT,UAAC,MAAD,EAAY;AACjB,QAAA,YAAY,CAAC,OAAb,CAAqB,cAArB,EAAqC,MAAM,CAAC,IAAP,CAAY,MAAjD;AACA,OAHc,EAId,KAJc,CAIR,YAAM;AACZ,QAAA,MAAI,CAAC,KAAL,CAAW,QAAX;AACA,OANc,CAAP;AAOJ;AAjCK,GAZE;AAgDX,EAAA,OAAO;AAAA,2EAAE;AAAA;AAAA;AAAA;AAAA;AACL,mBAAK,OAAL;;AADK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAhDI,CAAf","sourcesContent":["<template>\r\n\r\n    <div v-if=\"loaded\" class=\"information\">\r\n        <h1>Información de su cuenta</h1>\r\n        <h2>Nombre: <span>{{name}}</span></h2>\r\n        <h2>Saldo: <span>{{balance}} COP </span></h2>\r\n        <h2>Correo electrónico: <span>{{email}}</span></h2>\r\n    </div>\r\n\r\n</template>\r\n\r\n\r\n<script>\r\nimport jwt_decode from \"jwt-decode\";\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n    name: \"Account\",\r\n\r\n    data: function(){\r\n        return {\r\n            name: \"\",\r\n            email: \"\",\r\n            balance: 0,\r\n            loaded: false,\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        getData: async function () {\r\n\r\n            if (localStorage.getItem(\"token_access\") === null || localStorage.getItem(\"token_refresh\") === null) {\r\n                this.$emit('logOut');\r\n                return;\r\n\t\t\t}\r\n\r\n            await this.verifyToken();\r\n            \r\n            let token = localStorage.getItem(\"token_access\");\r\n            let userId = jwt_decode(token).user_id.toString();\r\n            \r\n            axios.get(`https://mision-tic-bank-be.herokuapp.com/user/${userId}/`, {headers: {'Authorization': `Bearer ${token}`}})\r\n                .then((result) => {\r\n                    this.name = result.data.name;\r\n                    this.email = result.data.email;\t\r\n                    this.balance = result.data.account.balance;\r\n                    this.loaded = true;\r\n                    })\r\n                .catch(() => {\r\n                    this.$emit('logOut');\r\n                });\r\n        },\r\n\r\n        verifyToken: function () {\r\n            return axios.post(\"https://mision-tic-bank-be.herokuapp.com/refresh/\", {refresh: localStorage.getItem(\"token_refresh\")}, {headers: {}})\r\n\t\t\t\t.then((result) => {\r\n\t\t\t\t\tlocalStorage.setItem(\"token_access\", result.data.access);\t\t\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tthis.$emit('logOut');\r\n\t\t\t\t});\r\n        }\r\n    },\r\n\r\n    created: async function(){\r\n        this.getData();\r\n    },\r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n    .information{\r\n        margin: 0;\r\n        padding: 0%;\r\n        width: 100%;\r\n        height: 100%;\r\n\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;    \r\n        align-items: center;\r\n    }\r\n\r\n    .information h1{\r\n        font-size: 60px;\r\n        color: #0f1316;\r\n    }\r\n\r\n    .information h2{\r\n        font-size: 40px;\r\n        color: #283747;\r\n    }\r\n\r\n    .information span{\r\n        color: crimson;\r\n        font-weight: bold;\r\n    }\r\n</style>"],"sourceRoot":""}]}